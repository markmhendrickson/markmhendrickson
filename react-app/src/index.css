@tailwind base;
@tailwind components;
@tailwind utilities;

/* Post prose: one wrapper class, style by element inside it (no per-element classes in HTML) */
@layer components {
  .post-prose p {
    @apply text-[15px] leading-[1.75] mb-4 text-[#333];
  }
  .post-prose h1 {
    @apply text-[24px] font-medium mb-4 mt-14 first:mt-0 tracking-tight;
  }
  .post-prose h2 {
    @apply text-[20px] font-medium mb-3 mt-12 tracking-tight;
  }
  .post-prose h3 {
    @apply text-[18px] font-medium mb-2 mt-8 tracking-tight;
  }
  .post-prose ul {
    @apply list-disc list-outside mb-4 ml-6 space-y-3;
  }
  .post-prose ol {
    @apply list-decimal list-outside mb-4 ml-6 space-y-3;
  }
  .post-prose li {
    @apply text-[15px] leading-[1.75] mb-3 pl-1 [&>p]:mb-2 [&>p:first-child]:mt-0 [&>p:last-child]:mb-0;
  }
  .post-prose blockquote {
    @apply border-l-4 border-gray-300 pl-4 italic text-[15px] text-[#666] mb-4;
  }
  .post-prose code {
    @apply bg-gray-100 px-1 py-0.5 rounded text-[14px] font-mono;
  }
  .post-prose pre code {
    @apply block p-4 rounded mb-4 overflow-x-auto;
  }
  .post-prose strong {
    @apply font-semibold;
  }
  .post-prose em {
    @apply italic;
  }
  .post-prose a {
    @apply text-black border-b border-black pb-[1px] hover:border-transparent;
  }
  .post-prose table {
    @apply w-full min-w-full border-collapse text-[15px] leading-[1.75];
  }
  .post-prose thead th {
    @apply text-left font-medium py-3 px-4 border-b border-border bg-muted text-foreground;
  }
  .post-prose tbody td {
    @apply py-3 px-4 border-b border-border text-foreground;
  }
  .post-prose tbody tr:last-child td {
    @apply border-b-0;
  }
  .post-prose .footnotes {
    @apply mt-10 pt-6 border-t border-[#e0e0e0];
  }
  .post-prose .footnotes p {
    @apply text-[13px] leading-[1.65] mb-2 text-[#666];
  }
  .post-prose .footnotes ol {
    @apply list-decimal list-outside ml-5 space-y-2;
  }
  .post-prose .footnotes li {
    @apply text-[13px] leading-[1.65] text-[#666];
  }
  .post-prose .footnotes hr {
    @apply hidden;
  }

  /* Key takeaways box: smaller text to match Alert / latest-post notice */
  .post-prose-summary p {
    @apply text-sm leading-[1.65] mb-3 text-[#333];
  }
  .post-prose-summary ul {
    @apply list-disc list-outside mb-4 ml-6 space-y-2;
  }
  .post-prose-summary li {
    @apply text-sm leading-[1.65] text-[#333];
  }
  .post-prose-summary strong {
    @apply font-semibold;
  }
  .post-prose-summary a {
    @apply text-black border-b border-black pb-[1px] hover:border-transparent;
  }
}

@layer base {
  :root {
    --header-height: 4rem; /* h-16: matches page header for viewport-height calcs */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.145 0 0);
    --sidebar-primary: oklch(0.205 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.97 0 0);
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: oklch(0.922 0 0);
    --sidebar-ring: oklch(0.708 0 0);
  }

  .dark {
    --sidebar: oklch(0.205 0 0);
    --sidebar-foreground: oklch(0.985 0 0);
    --sidebar-primary: oklch(0.488 0.243 264.376);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.269 0 0);
    --sidebar-accent-foreground: oklch(0.985 0 0);
    --sidebar-border: oklch(1 0 0 / 10%);
    --sidebar-ring: oklch(0.439 0 0);
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  }
  #root {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    max-width: 100vw;
    overflow-x: hidden;
  }
}
